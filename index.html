<!DOCTYPE html>

<!--
  Dmytro Tarasiuk
  taskcalc@membrama.com
*/

-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="uk">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="styles.css">
  <!--Roboto Font-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <!--/-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>  
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js "></script>
  <script src="my.js"></script>


  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
    });
  </script>

<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
</head>
<!----------------------------------------------------------------------------------------------->
<body bgcolor="lightgray">
  <center>
    <h1 class="h1-main">Калькулятор індивідуального завдання</h1>
    <fieldset class="fset-main">
      <legend class="fset-legend">
        <table>
          <tr>
            <td>Студент(-ка):</td>
            <td>Лаб.№</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td><input id="inp-fullname" class="inp-fullname" type="text" placeholder="Ім'я Призвіще" size="20"/></td>
            <td>
              <select id="sel-widn" class="sel-widn">
                <option selected>01</option>
                <option>02</option>
                <option>03</option>
                <option>04</option>
                <option>05</option>
                <option>06</option>
                <option>07</option>
                <option>08</option>
                <option>09</option>
                <option>10</option>
                <!--option>КР</option-->
                <option>ЕКЗ</option>
              </select>
            </td>
            <td><button id="button-gen" class="button-gen">OK</button></td>
          </tr>
          </tbody>
        </table>
      </legend>
      <div id="content" class="content">
        <h2>Як отримати свій варіант завдання?</h2>
        1. Введіть спочатку ім'я, а потім призвіще українською мовою.<br>
        2. Виберіть номер лабораторно-практичної роботи.<br>
        3. Натисніть [OK] щоб отримати індивідуальні параметри завдання.
      </div>
    </fieldset>
   </center>
</body>
<!----------------------------------------------------------------------------------------------->
<script>
  function rand_range(rand, from, to) {
    return rand() * (to - from) + from; // [from,to)
  }
</script>

<script>
  function copy_to_clipboard(text) {
    navigator.clipboard.writeText(text).then(function () {
      alert('Скопійовано! Використайте CTRL-V щоб вставити в Google Colab або деінде!')
    }, function () {
      alert('Не скопійовано. Перевірте дозволи для clipboard')
    });
  }
</script>

<script>
  /////////////////////////////////////////////////////////////////// ЛР 01 ///
  function lab_pract_01() {
    console.log('Лабораторно-практична робота №1');
    var dfht = '<div class="content01-div">'
      +   '<a href="https://colab.research.google.com/drive/1nnnJQwndw07Tf03J9cstVYlGfPrAoeRI?usp=drive_link">'
      +   'Посилання</a> на завдання';
      + '</div>';
    $('#content').html(dfht)
  }
</script>

<script>
function pad(num, size) {
  var num = num.toString();
  while (num.length < size) num = "0" + num;
  return num;
}
</script>

<script>
  /////////////////////////////////////////////////////////////////// ЛР 02 ///
  function lab_pract_02(rand) {
    console.log('Лабораторно-практична робота №2');
    const randge = function(from, to) { return rand_range(rand, from, to); }
    const functs = ['2.2 x = 2^x',
                    'x^2 = -4 \\cdot \\sin{x}',
                    '5 x = 8 + 8 \\cdot \\ln{x}',
                    '3 x = e^x',
                    'x (x+1)^2 = -0.05',
                    'x = (x+1)^3',
                    'x + 0.5 = (x+0.5)^3',
                    'x^2 = \\sin(7 x)',
                    '2.2 + x = \\sqrt{ | \\sin(x+2) | }',
                    '\\tan{(0.4 x + 0.4)} = x^2',
                    '\\sqrt{x} - \\cos{(2.5 x)} = 0.7'];
    var n = Math.trunc(randge(0, functs.length));
    var m = Math.trunc(randge(1, 100));
    var e = Math.trunc(randge(3, 5+1));
    var me = '1.'+pad(m,2)+'e-'+e;
    var dfht = '<div class="content01-div">'
      +   '<a href="https://colab.research.google.com/drive/1Vqk7vj3JNZqxxo78lyflwQEAEsBdhjzo?usp=sharing">'
      +   'Посилання</a> на завдання'
      +   '<hr/><b>Ваше рівняння:</b> $$'+functs[n]+'$$'
      +   '<br/><b>Точність рішення:</b> <i>'+me+'</i>'
      + '</div>';
    $('#content').html(dfht);
    MathJax.Hub.Queue(["Typeset",MathJax.Hub,document.getElementById("content")]);
    console.log('Equotion='+functs[n]+', Eps='+me);
  }
</script>

<script>
  /////////////////////////////////////////////////////////////////// ЛР 03 ///
  function lab_pract_03(rand) {
    console.log('Лабораторно-практична робота №2');
    const randge = function(from, to) { return rand_range(rand, from, to); }
    const slaes = [ String.raw`\begin{cases}`
                  + String.raw`  38x_1+67x_2-12x_3=52, \\`
                  + String.raw`  64x_1+13x_2-27x_3=38, \\`
                  + String.raw`  24x_1-45x_2+35x_3=-6. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  36x_1+18x_2-47x_3=38, \\`
                  + String.raw`  27x_1-36x_2+19x_3=4, \\`
                  + String.raw`  15x_1+45x_2+33x_3=-16. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  54x_1-23x_2+34x_3=-35, \\`
                  + String.raw`  42x_1+17x_2-23x_3=27, \\`
                  + String.raw`  34x_1+24x_2+74x_3=19. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  45x_1-35x_2+74x_3=25, \\`
                  + String.raw`  31x_1-6x_2-23x_3=-15, \\`
                  + String.raw`  08x_1+74x_2-5x_3=64. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  38x_1+41x_2-23x_3=48, \\`
                  + String.raw`  -21x_1+39x_2-58x_3=33, \\`
                  + String.raw`  18x_1+11x_2-21x_3=58. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  71x_1+68x_2+61x_3=70, \\`
                  + String.raw`  50x_1+48x_2+53x_3=61, \\`
                  + String.raw`  82x_1+78x_2+71x_3=58. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  63x_1+52x_2-6x_3=15, \\`
                  + String.raw`  34x_1-23x_2+34x_3=27, \\`
                  + String.raw`  8x_1+14x_2+35x_3=-23. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  54x_1-24x_2+38x_3=55, \\`
                  + String.raw`  25x_1+68x_2-11x_3=43, \\`
                  + String.raw`  27x_1-6x_2+15x_3=-35. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  32x_1-25x_2+37x_3=65, \\`
                  + String.raw`  5x_1+3.4x_2+17x_3=-2.4, \\`
                  + String.raw`  16x_1+23x_2-15x_3=43. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  33x_1+21x_2+28x_3=8, \\`
                  + String.raw`  41x_1+37x_2+48x_3=57, \\`
                  + String.raw`  27x_1+18x_2+11x_3=32. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  32x_1-115x_2+38x_3=28, \\`
                  + String.raw`  8x_1+13x_2-64x_3=-65, \\`
                  + String.raw`  24x_1+72x_2-12x_3=45. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  9x_1+27x_2-38x_3=24, \\`
                  + String.raw`  25x_1+58x_2-5x_3=35, \\`
                  + String.raw`  45x_1-21x_2+32x_3=-12. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  41x_1+52x_2-58x_3=70, \\`
                  + String.raw`  38x_1-31x_2+40x_3=53, \\`
                  + String.raw`  78x_1+53x_2-63x_3=58. \\`
                  + String.raw`\end{cases}`,
                    String.raw`\begin{cases}`
                  + String.raw`  28x_1+38x_2-32x_3=45, \\`
                  + String.raw`  25x_1-28x_2+33x_3=71, \\`
                  + String.raw`  65x_1-71x_2+48x_3=63. \\`
                  + String.raw`\end{cases}`
                  ];
    var n = Math.trunc(randge(0, slaes.length));
    var dfht = '<div class="content01-div">'
      +   '<a href="https://colab.research.google.com/drive/1z1qvkR6OkSMLUnrErX2i9r2MSkiUwmcZ?usp=sharing">'
      +   'Посилання</a> на завдання'
      +   '<hr/><b>Ваша система рівнянь:</b> $$'+slaes[n]+'$$'
      + '</div>';
    $('#content').html(dfht);
    MathJax.Hub.Queue(["Typeset",MathJax.Hub,document.getElementById("content")]);
    console.log('SLAE: '+slaes[n]);
  }
</script>

<script>
  $(function() {
    console.log("Loaded...");
    $('#inp-fullname').val(Cookies.get('fullname'));
    const lab = findGetParameter('lab');
    $('#sel-widn').val(lab || Cookies.get('widn') || '01');

    $('#button-gen').on('click', function () {
      const fn = $('#inp-fullname').val().trim().replace(/\s+/g,' ').toUpperCase();
      if (fn.length == 0) {
        alert('Немає імені/прізвища!');
        return;
      };
      seedlist = seedlist_4x32(fn)
      var rand = sfc32(seedlist[0], seedlist[1], seedlist[2], seedlist[3]);

      switch($('#sel-widn').val()) {
        case '01': lab_pract_01(); break;
        case '02': lab_pract_02(rand); break;
        case '03': lab_pract_03(rand); break;
        default:
          alert('Вибачте, ще не готово...');
          break;
      }
    });

    $('#inp-fullname').on('change', function () {
      Cookies.set('fullname', $('#inp-fullname').val());
    });

    $('#inp-fullname').keypress(function (e) {
      var key = e.which;
      if(key == 13) { // the enter key code
        $('#button-gen').click();
        return false;
      }
    });

    $('#sel-widn').on('change', function () {
      Cookies.set('widn', $('#sel-widn').val());
    });
  });
</script>
</html>
